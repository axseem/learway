import{a as l,t as i,c as o,s as e}from"../chunks/disclose-version.CfobuPx6.js";import{p as C,a as I}from"../chunks/runtime.r5-_hA6s.js";import{e as k}from"../chunks/render.Cxa2e9Dg.js";import{p as P}from"../chunks/proxy.BnQUgK9D.js";import{I as m}from"../chunks/input.D5xQT3G4.js";import{B as v}from"../chunks/button.DYXPdrKJ.js";import{a as S}from"../chunks/api.Zt1bz1uW.js";import{g as D}from"../chunks/entry.CnPrUYvS.js";var E=i("Log in",1),O=i("Continue with Google",1),T=i('<div class="flex w-full flex-col gap-2"><form class="bg-card text-card-foreground flex w-full flex-col gap-6 rounded-lg border p-6 shadow-sm"><div class="flex flex-col gap-1.5"><h3 class="text-2xl font-semibold tracking-tight">Welcome</h3> <p class="text-muted-foreground text-sm">Enter your credantials below</p></div> <div class="flex w-full flex-col gap-2"><!> <!></div> <div class="flex w-full flex-col gap-4"><!> <div class="relative"><div class="absolute inset-0 flex items-center"><span class="w-full border-t"></span></div> <div class="relative flex justify-center text-xs uppercase"><span class="bg-background text-muted-foreground px-2">Or continue with</span></div></div> <!></div></form> <div class="flex place-content-between"><a class="text-muted-foreground pt-2 text-sm" href="/signup">Create an account</a> <a class="text-muted-foreground pt-2 text-sm" href="/recover">Forgot password</a></div></div>');function q(g,x){I(x,!0);const w=async t=>{let a=await fetch(S+"/login",{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(a.status>=400&&a.status<500){let s=await a.json();alert(s.message);return}if(a.status>=200&&a.status<300){let s=await a.json(),f=s.session,j=s.username,B=new Date(f.expiresAt).toUTCString();document.cookie=`sessionID=${f.id}; expires=${B}; path=/; secure=true;`,localStorage.setItem("username",j),D("/");return}};let r=P({email:"",password:""});var n=T(),d=o(n),h=o(d),u=e(e(h,!0)),p=o(u);m(p,{get value(){return r.email},set value(t){r.email=t},placeholder:"Email"});var b=e(e(p,!0));m(b,{get value(){return r.password},set value(t){r.password=t},placeholder:"Password"});var _=e(e(u,!0)),c=o(_);v(c,{type:"submit",class:"w-full",children:(t,a)=>{var s=E();l(t,s)}});var y=e(e(c,!0)),$=e(e(y,!0));v($,{variant:"outline",class:"w-full",children:(t,a)=>{var s=O();l(t,s)}}),k("submit",d,()=>{w(r)},!1),l(g,n),C()}export{q as component};
