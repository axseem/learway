import{a as o,t as n,c as l,s as e}from"../chunks/disclose-version.DjcaTDsi.js";import{p as S,a as k}from"../chunks/runtime.BZ58vcTB.js";import{e as C}from"../chunks/render.FyCEabsq.js";import{p as P}from"../chunks/proxy.CQrFxjn9.js";import{I as i}from"../chunks/input.sDJ3KsNS.js";import{B as g}from"../chunks/button.BMVWlQ3E.js";import{a as U}from"../chunks/api.Zt1bz1uW.js";var D=n("Sign up",1),E=n("Continue with Google",1),O=n('<div class="flex w-full flex-col gap-2"><form class="bg-card text-card-foreground flex w-full flex-col gap-6 rounded-lg border p-6 shadow-sm"><div class="flex flex-col gap-1.5"><h3 class="text-2xl font-semibold tracking-tight">Welcome</h3> <p class="text-muted-foreground text-sm">Enter your credantials below</p></div> <div class="flex w-full flex-col gap-2"><!> <!> <!></div> <div class="flex w-full flex-col gap-4"><!> <div class="relative"><div class="absolute inset-0 flex items-center"><span class="w-full border-t"></span></div> <div class="relative flex justify-center text-xs uppercase"><span class="bg-background text-muted-foreground px-2">Or continue with</span></div></div> <!></div></form> <div class="flex place-content-between"><a class="text-muted-foreground pt-2 text-sm" href="/login">Log in</a> <a class="text-muted-foreground pt-2 text-sm" href="/recover">Forgot password</a></div></div>');function W(x,w){k(w,!0);const h=async t=>{let a=await fetch(U+"/signup",{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(a.status>=400&&a.status<500){let s=await a.json();alert(s.message);return}if(a.status>=200&&a.status<300){let s=await a.json(),v=s.session,B=s.username,I=new Date(v.expiresAt).toUTCString();document.cookie=`sessionID=${v.id}; expires=${I}; path=/; secure=true;`,localStorage.setItem("username",B),window.location.replace("/");return}};let r=P({username:"",email:"",password:""});var u=O(),d=l(u),b=l(d),p=e(e(b,!0)),c=l(p);i(c,{get value(){return r.username},set value(t){r.username=t},placeholder:"Username"});var f=e(e(c,!0));i(f,{get value(){return r.email},set value(t){r.email=t},placeholder:"Email"});var _=e(e(f,!0));i(_,{get value(){return r.password},set value(t){r.password=t},placeholder:"Password"});var y=e(e(p,!0)),m=l(y);g(m,{type:"submit",class:"w-full",children:(t,a)=>{var s=D();o(t,s)}});var $=e(e(m,!0)),j=e(e($,!0));g(j,{variant:"outline",class:"w-full",children:(t,a)=>{var s=E();o(t,s)}}),C("submit",d,()=>{h(r)},!1),o(x,u),S()}export{W as component};
